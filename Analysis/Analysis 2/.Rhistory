knitr::opts_chunk$set(echo = TRUE)
options(scipen=999)
library(tidyverse)
library(rvest)
library(curl) #Make sure you install this package if you don't have it.
GDP2 <- GDP2[, -c(1, 4)]
GDP2 <- GDP[, -c(1, 4)]
knitr::opts_chunk$set(echo = TRUE)
options(scipen=999)
library(tidyverse)
library(rvest)
library(curl) #Make sure you install this package if you don't have it.
GDP2 <- GDP[, -c(1, 4)]
URL.GDP="https://www.worldometers.info/gdp/gdp-by-country/" #DO NOT CHANGE
GDP = URL.GDP %>%
read_html() %>%
html_table(fill=TRUE)
GDP <- as.data.frame(GDP)
head(GDP) #DO NOT CHANGE
GDP2 <- GDP[, -c(1, 4)]
head(GDP2) #DO NOT CHANGE
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 = GDP2 %>%
rename(
GDP = "GDP (nominal, 2017)",
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 = GDP2 %>%
rename(
GDP = GDP (nominal, 2017),
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`
GDP3 = GDP2 %>%
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
GDP3 = GDP2 %>%
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 = GDP2 %>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 <- GDP2
# Rename the variables
names(GDP3)[2] <- "GDP"
names(GDP3)[4] <- "Growth"
names(GDP3)[6] <- "Population"
names(GDP3)[7] <- "PerCapita"
GDP3 <- GDP2%>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP = `GDP (nominal, 2017)`
GDP3 <- GDP2%>%
rename(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 <- GDP2 %>%
select(
GDP = `GDP (nominal, 2017)`,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 <- GDP2 %>%
select(
GDP = GDP..nominal..2017.,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP3 <- GDP2 %>%
select(
GDP = GDP..nominal..2017.,
Growth = `GDP  growth`,
Population = `Population (2017)`,
PerCapita = `GDP  per capita`,
Share = `Share of World GDP`
)
GDP2 <- GDP[, -c(1, 4)]
head(GDP2) #DO NOT CHANGE
URL.GDP="https://www.worldometers.info/gdp/gdp-by-country/" #DO NOT CHANGE
GDP = URL.GDP %>%
read_html() %>%
html_table(fill=TRUE)
GDP <- as.data.frame(GDP)
head(GDP) #DO NOT CHANGE
URL.GDP="https://www.worldometers.info/gdp/gdp-by-country/" #DO NOT CHANGE
GDP = URL.GDP %>%
read_html() %>%
html_table(fill=TRUE)
head(GDP) #DO NOT CHANGE
URL.GDP="https://www.worldometers.info/gdp/gdp-by-country/" #DO NOT CHANGE
GDP = URL.GDP %>%
read_html() %>%
html_table(fill=TRUE)
GDP <- as.data.frame(GDP)
head(GDP) #DO NOT CHANGE
GDP3 <- GDP2 %>%
select(
GDP = GDP..nominal..2017.,
Growth = GDP..growth,
Population = Population..2017.,
PerCapita = GDP..per.capita,
Share = Share.of.World.GDP
)
names(GDP3) #DO NOT CHANGE
GDP4 <- GDP3 %>%
mutate(
GDP = str_replace(GDP, "\\$", ""),
Growth = str_replace(Growth, "%", ""),
PerCapita = str_replace(PerCapita, "\\$", ""),
Share = str_replace(Share, "%", "")
)
str(GDP4) #DO NOT CHANGE
clear
GPD4
GPD4
GDP4
GDP4 <- GDP3 %>%
mutate(
Country,
GDP = str_replace(GDP, "\\$", ""),
Growth = str_replace(Growth, "%", ""),
PerCapita = str_replace(PerCapita, "\\$", ""),
Share = str_replace(Share, "%", "")
)
GDP3 <- GDP2 %>%
select(
Country,
GDP = GDP..nominal..2017.,
Growth = GDP..growth,
Population = Population..2017.,
PerCapita = GDP..per.capita,
Share = Share.of.World.GDP
)
names(GDP3) #DO NOT CHANGE
GDP4 <- GDP3 %>%
mutate(
Country,
GDP = str_replace(GDP, "\\$", ""),
Growth = str_replace(Growth, "%", ""),
PerCapita = str_replace(PerCapita, "\\$", ""),
Share = str_replace(Share, "%", "")
)
str(GDP4) #DO NOT CHANGE
?str_replace_all
GDP5 <- GDP4 %>%
mutate(
Country,
GDP = str_replace_all(GDP, ",", ""),
Growth = str_replace_all(Growth, ",", ""),
PerCapita = str_replace_all(PerCapita, ",", ""),
Share = str_replace_all(Share, ",", "")
)
str(GDP5) #DO NOT CHANGE
GDP5 <- GDP4 %>%
mutate(
Country,
GDP = str_replace_all(GDP, ",", ""),
Growth = str_replace_all(Growth, ",", ""),
Population = str_replace_all(Population, ",", "")
PerCapita = str_replace_all(PerCapita, ",", ""),
GDP5 <- GDP4 %>%
mutate(
Country,
GDP = str_replace_all(GDP, ",", ""),
Growth = str_replace_all(Growth, ",", ""),
Population = str_replace_all(Population, ",", ""),
PerCapita = str_replace_all(PerCapita, ",", ""),
Share = str_replace_all(Share, ",", "")
)
str(GDP5) #DO NOT CHANGE
GDP6 <- GDP5 %>%
mutate(
Country,
GDP = as.numeric(GDP)
)
str(GDP6) #DO NOT CHANGE
GDP6 <- GDP5 %>%
mutate(
Country,
GDP = as.numeric(GDP),
Growth = as.numeric(Growth),
Population = as.numeric(Population),
PerCapita = as.numeric(PerCapita),
Share = as.numeric(Share)
)
str(GDP6) #DO NOT CHANGE
GDP6
GDP7 <- GDP6 %>%
mutate(
GDP = GDP / 1e12
)
str(GDP7)  #DO NOT CHANGE
GDP6 <- GDP5 %>%
mutate(
GDP = as.numeric(GDP),
Growth = as.numeric(Growth),
Population = as.numeric(Population),
PerCapita = as.numeric(PerCapita),
Share = as.numeric(Share)
)
str(GDP6) #DO NOT CHANGE
GDP5 <- GDP4 %>%
mutate(
GDP = str_replace_all(GDP, ",", ""),
Growth = str_replace_all(Growth, ",", ""),
Population = str_replace_all(Population, ",", ""),
PerCapita = str_replace_all(PerCapita, ",", ""),
Share = str_replace_all(Share, ",", "")
)
str(GDP5) #DO NOT CHANGE
GDP4 <- GDP3 %>%
mutate(
GDP = str_replace(GDP, "\\$", ""),
Growth = str_replace(Growth, "%", ""),
PerCapita = str_replace(PerCapita, "\\$", ""),
Share = str_replace(Share, "%", "")
)
str(GDP4) #DO NOT CHANGE
GDP7 <- GDP6 %>%
mutate(
GDP = GDP / 1e12
Population = Population / 1e6
GDP7 <- GDP6 %>%
mutate(
GDP = GDP / 1e12,
Population = Population / 1e6
)
str(GDP7)  #DO NOT CHANGE
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 = COMPLETE
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`) %>%
mutate(CO2 = as.numeric(CO2))
str(CO2) #DO NOT CHANGE
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`) %>%
mutate(CO2 = as.numeric(CO2))
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`) %>%
mutate(CO2 = as.numeric(CO2))
str(CO2) #DO NOT CHANGE
URL.EDU="https://en.wikipedia.org/wiki/Education_Index" #DO NOT CHANGE
EDU = URL.EDU %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `2019`) %>%
rename(ED.Index = `2019`)
head(EDU) #DO NOT CHANGE
URL.GDP="https://www.worldometers.info/gdp/gdp-by-country/" #DO NOT CHANGE
GDP = URL.GDP %>%
read_html() %>%
`[[`(1) %>%
html_table(fill=TRUE)
URL.GDP="https://www.worldometers.info/gdp/gdp-by-country/" #DO NOT CHANGE
GDP = URL.GDP %>%
read_html() %>%
html_table(fill=TRUE)
URL.GDP="https://www.worldometers.info/gdp/gdp-by-country/" #DO NOT CHANGE
GDP = URL.GDP %>%
read_html() %>%
html_table(fill=TRUE)
GDP <- as.data.frame(GDP)
head(GDP) #DO NOT CHANGE
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`) %>%
mutate(CO2 = as.numeric(CO2))
str(CO2) #DO NOT CHANGE
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`)
str(CO2) #DO NOT CHANGE
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`) %>%
mutate(C02 = str_replace_all(C02, ",", ""))
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`) %>%
mutate(CO2 = str_replace_all(CO2, ",", ""))
str(CO2) #DO NOT CHANGE
URL.CO2=url("https://www.worldometers.info/co2-emissions/co2-emissions-by-country/") #DO NOT CHANGE
CO2 <- URL.CO2 %>%
read_html() %>%
html_table(fill = TRUE) %>%
`[[`(1) %>%
select(Country, `CO2 Emissions (tons, 2016)`) %>%
rename(CO2 = `CO2 Emissions (tons, 2016)`) %>%
mutate(CO2 = str_replace_all(CO2, ",", "")) %>%
mutate(CO2 = as.numeric(CO2))
str(CO2) #DO NOT CHANGE
GDP7.EDU = left_join(GDP7, EDU)
head(GDP7.EDU) #DO NOT CHANGE
EDU
GDP7.EDU = left_join(GDP7, EDU, by=Country)
GDP7.EDU = left_join(GDP7, EDU, by="Country")
head(GDP7.EDU) #DO NOT CHANGE
GDP7.EDU = left_join(GDP7, EDU)
head(GDP7.EDU) #DO NOT CHANGE
GDP7.EDU = left_join(GDP7, EDU, all.x = TRUE)
GDP7.EDU = left_join(GDP7, EDU, , by="Country", all.x = TRUE)
GDP7.EDU <- left_join(GDP7, EDU, by = "Country")
head(GDP7.EDU) #DO NOT CHANGE
GP7
GDP7
sum(is.na(GDP7.EDU$ED.Index))
GDP7
EDU
GDP7.EDU
GDP7
EDU
GDP7.EDU.sorted = arrange(GDP7.EDU, is.na(ED.Index))
GDP7
EDU
GDP7.EDU.sorted = arrange(GDP7.EDU, is.na(ED.Index))
GDP7.EDU.sorted
GDP7
EDU
GDP7.EDU.sorted = arrange(GDP7.EDU, desc(is.na(ED.Index)))
GDP7.EDU.sorted
GDP7.CO2 <- merge(GDP7, CO2, by = "Country", all = FALSE)
head(GDP7.CO2) #DO NOT CHANGE
CO3 <- anti_join(CO2, GDP7, by="Country")
head(CO3) #DO NOT CHANGE
CO3
CO3 <- anti_join(CO2, GDP7, by="Country")
CO3
head(CO3) #DO NOT CHANGE
